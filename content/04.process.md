# Process

A process is essentially a program that is currently being executed. When a program runs, it is transformed into a process, which is assigned an identifier (ID), a state, memory space, and various other attributes.

For example, when you double click on the Visual Studio program icon on your device or double click on Safari, Chrome, or Google Maps, you start the program you clicked on, and it turns into a process (currently running program).

This document lists various Linux commands related to process management, along with their descriptions, usage examples, and expected results.


## 1. Display Process Information 


### `ps` (process status)

Displays information about active processes. By default, it shows processes that are running in the current terminal session.
The command `ps aux` is a commonly used variation of ps that provides a more comprehensive view of all processes running on the system. Here’s a breakdown of each part:

| Part | Description                                                                                             |
|------|---------------------------------------------------------------------------------------------------------|
| `ps` | Calls the process status command.                                                                       |
| `a` | Displays processes for all users, not just the current user. This includes processes that are not associated with a terminal. |
| `u` | Provides detailed information in a user-oriented format. This includes additional columns like user, CPU usage, and memory usage. |
| `x` | Shows processes that are not attached to a terminal. This includes background processes and daemons.     |

#### Example
```bash
ps aux
```
#### Expected Result
```bash
USER       PID %CPU %MEM  VSZ    RSS  TTY  STAT  START   TIME COMMAND
username  1234  0.0  1.2  123456  7890 ?    S    10:00   0:00 /usr/bin/firefox
username  5678  0.1  2.5  234567 12345 ?    S    10:01   0:01 /usr/bin gnome-terminal
```

| Column  | Description                                                                 |
|---------|-----------------------------------------------------------------------------|
| USER    | The username of the user who owns the process.                             |
| PID     | The Process ID, a unique identifier for each running process.              |
| %CPU    | The percentage of CPU usage that the process is currently using.           |
| %MEM    | The percentage of memory usage that the process is currently using.        |
| VSZ     | The virtual memory size of the process in kilobytes (KB).                 |
| RSS     | The resident set size, which is the portion of memory occupied by the process that is held in RAM, is also measured in kilobytes (KB). |
| TTY     | The terminal associated with the process. A question mark (?) indicates no terminal is associated. |
| STAT    | The process status code, which indicates the current state of the process (e.g., S for sleeping, R for running). |
| START   | The time when the process started.                                         |
| TIME    | The total CPU time used by the process since it started, displayed in a format that shows minutes and seconds. |
| COMMAND | The command that started the process, including any arguments passed to it. |



### `top`
Provides a dynamic, real-time view of running processes.

#### Example
```bash
top
```
#### Expected Result
```bash
top - 10:00:00 up  1:00,  3 users,  load average: 0.10, 0.20, 0.30
Tasks:  123 total,   2 running, 121 sleeping,   0 stopped,   0 zombie
%Cpu(s):  1.0 us,  0.5 sy,  0.0 ni, 98.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
MiB Mem :   2000.0 total,   1000.0 free,    500.0 used,    500.0 buff/cache
MiB Swap:   1000.0 total,    800.0 free,    200.0 used.   1500.0 avail Mem

PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
1234 username  20   0  123456  7890   1234 S   0.5  0.1   0:00.00 firefox
5678 username  20   0  234567 12345  12345 S   0.3  0.6   0:01.00 gnome-terminal
```

| Output Section        | Description                                                                                       |
|-----------------------|---------------------------------------------------------------------------------------------------|
| `top - 10:00:00` | The current time when the `top` command was run.                                                |
| `up 1:00` | The system has been running for 1 hour since the last reboot.                                   |
| `3 users` | There are currently 3 users logged into the system.                                             |
| `load average: 0.10, 0.20, 0.30` | The system load averages for the last 1, 5, and 15 minutes, respectively. A lower number indicates less load. |
| `Tasks: 123 total` | A total of 123 processes (tasks) are currently being managed by the system.                      |
| `2 running` | Out of the total tasks, 2 are actively running.                                                 |
| `121 sleeping` | 121 tasks are sleeping, meaning they are waiting for an event to occur (e.g., I/O operation).   |
| `0 stopped` | No processes are stopped.                                                                          |
| `0 zombie` | No zombie processes are present; these are processes that have completed execution but still have an entry in the process table. |
| `%Cpu(s): 1.0 us` | CPU usage breakdown: 1.0% is user space CPU time (non-kernel processes).                         |
| `%Cpu(s): 0.5 sy` | 0.5% is system CPU time (kernel processes).                                                     |
| `MiB Mem: 2000.0 total` | Total memory available on the system is 2000 MiB.                                           |
| `1000.0 free` | 1000 MiB of memory is currently free and available for use.                                      |
| `500.0 used` | 500 MiB of memory is currently in use by processes.                                             |
| `500.0 buff/cache` | 500 MiB of memory is being used for buffers and cache, which can be reclaimed if needed.        |
| `MiB Swap: 1000.0 total` | Total swap space available is 1000 MiB.                                                   |
| `800.0 free` | 800 MiB of swap space is currently free.                                                         |
| `200.0 used` | 200 MiB of swap space is currently being used.                                                  |
| `1500.0 avail Mem` | 1500 MiB of memory is available for new processes, including free memory and reclaimable memory. |


### `pstree`
Displays running processes as a tree, showing their hierarchical relationship.

#### Example
```bash
pstree
```
#### Expected Result
```bash
init─┬─bash───my_script.sh      
     ├─firefox     
     └─gnome-terminal     
```

### `pgrep`
Searches for processes based on name and other attributes.

#### Example
```bash
pgrep chrome
```
#### Expected Result
```bash
848
1075
32739
```
The output of the command `pgrep chrome` shows the Process IDs (PIDs) of all currently running processes that match the name "chrome."

## 2. Terminate Process

### `pkill`
Sends terminate signals to processes based on name and other attributes. Can match against partial names.
#### Example
```bash
pkill chrome
```
#### Expected Result
No output, but all instances that have the word "chrome" in them are terminated. You can verify by using `pgrep chrome` again, which should return no results.


### `killall`
Kills all processes that only match the exact name of the process.
#### Example
```bash
killall firefox
```
#### Expected Result
No output. All processes named "firefox" are terminated.


### `kill`
Sends a signal to a process, used to terminate it.
#### Example
```bash
kill 1234 
```
#### Expected Result
No output. The process with PID 1234 is terminated.


## 3. Process Priority

### `nice`
Starts a process with a modified scheduling priority.
#### Example
```bash
nice -n 10 ./my_script.sh
```
#### Expected Result
No output unless there’s an error. The script my_script.sh runs with a lower priority.

| Part              | Description                                                                                         |
|-------------------|-----------------------------------------------------------------------------------------------------|
| `-n` | An option that specifies the "niceness" value to set for the process. It determines the priority level for the process. |
| `10` | The niceness value being set. Niceness values range from -20 (highest priority) to 19 (lowest priority). A value of 10 indicates a lower priority for this process compared to normal priority processes. |
| `./my_script.sh` | The command or script to execute. The `./` indicates that the script `my_script.sh` is located in the current directory. It runs this script with the specified niceness value. |    


### `renice`
Alters the priority of running processes.
#### Example
```bash
renice 15 -p 1234 
```
#### Expected Result
```bash
1234 (process ID) new priority is 15.
```

## 4. Job Control
A job is a process that is running in the shell. Each job is also associated with a Process ID.

### `jobs`
Lists the current jobs in the shell.
#### Example
```bash
jobs
```
#### Expected Result

```bash
[1]+  1234 Running                 ./my_script.sh &
```
This output indicates that the script my_script.sh is currently running in the background, and it is assigned the job number 1 with a PID of 1234. The terminal can still accept other commands while this script runs.

### `bg`
Resumes a suspended job in the background.

#### Example
```bash
bg %1 
```
#### Expected Result
```bash
[1]+ ./my_script.sh &
```
| Part | Description                                                                                     |
|------|-------------------------------------------------------------------------------------------------|
| `%` | The percent sign indicates that you are referring to a job by its job number.                  |
| `1` | This is the job number assigned to the specific job you want to resume. In this case, it refers to the first background job listed when you run the `jobs` command. |

## 5. Process System Calls
### `strace`
Traces system calls and signals received by a process. It intercepts and records the system calls made by a program. System calls are the primary interface between user applications and the kernel, allowing programs to request services such as file operations, process control, and network communication.

> [!NOTE]
> This command might need to be installed on your system before using it.        
> If you are using a Linux system, run the commands below:    
> ```bash 
> sudo apt update
> ```    
> ```bash 
> sudo apt install strace
> ```

#### Example
```bash
strace -p 1234 
```
#### Expected Result
A detailed log of system calls made by the process (PID 1234), such as:
```bash
open("file.txt", O_RDONLY)
write(1, "Hello World\n", 12)
```

